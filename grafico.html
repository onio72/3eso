<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Representación gráfica de datos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
        }

        /* Estilos para los iframes y la tabla */
        iframe {
            border: 1px dashed grey;
            width: 100%;
            height: 100px;
        }

        .row {
            display: flex;
            width: 100%;
            height: 400px;
        }

        .left-pane {
            width: 20%;
            height: 100%;
        }

        .right-pane {
            width: 80%;
            height: 100%;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        table, th, td {
            border: 1px solid black;
        }

        th, td {
            padding: 8px;
            text-align: center;
        }

        /* Estilos para resaltar A y B en rojo y azul */
        .row-A {
            background-color: red;
            color: white;
        }

        .row-B {
            background-color: blue;
            color: white;
        }

        .questions, .labels-drag {
            width: 100%;
            height: 150px;
            border: 1px dashed grey;
            margin-top: 20px;
        }

        /* Estilos para las preguntas */
        .question {
            margin-top: 10px;
        }

        select {
            padding: 5px;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <!-- Título -->
    <iframe>
        <h2>Representación gráfica de datos</h2>
    </iframe>

    <!-- Contenedor para tabla y gráfica -->
    <div class="row">
        <!-- Tabla de datos -->
        <div class="left-pane">
            <iframe>
                <!-- Contenido de la tabla -->
                <table id="data-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th id="independent-variable">Variable X</th>
                            <th id="dependent-variable">Variable Y</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        <!-- Datos generados dinámicamente -->
                    </tbody>
                </table>

                <!-- Preguntas -->
                <div class="question">
                    <label>Pregunta 1: 
                        <select>
                            <option value="">Selecciona...</option>
                            <option value="opcion1">Opción 1</option>
                            <option value="opcion2">Opción 2</option>
                        </select>
                    </label>
                </div>

                <div class="question">
                    <label>Pregunta 2: 
                        <select>
                            <option value="">Selecciona...</option>
                            <option value="opcion1">Opción 1</option>
                            <option value="opcion2">Opción 2</option>
                        </select>
                    </label>
                </div>
            </iframe>
        </div>

        <!-- Gráfica sin etiquetas ni título -->
        <div class="right-pane">
            <iframe>
                <!-- Aquí irá la gráfica -->
                <canvas id="graphCanvas" width="600" height="400"></canvas>
            </iframe>
        </div>
    </div>

    <!-- Contenedor para etiquetas arrastrables -->
    <div class="labels-drag">
        <iframe>
            <!-- Etiquetas arrastrables -->
            <p>Arrastra las etiquetas para colocarlas en los ejes:</p>
            <div draggable="true" style="background-color: lightblue; padding: 10px; display: inline-block;">Etiqueta 1</div>
            <div draggable="true" style="background-color: lightgreen; padding: 10px; display: inline-block;">Etiqueta 2</div>
        </iframe>
    </div>

    <!-- Script para generar datos y gestionar la lógica -->
    <script>
        // Fórmulas disponibles
        const formulas = [
            { name: 'posición-tiempo: lineal', formula: (x, m, n) => m * x + n, xLabel: 'tiempo', yLabel: 'posición' },
            { name: 'posición-tiempo: cuadrática', formula: (x, m, n, o) => m * Math.pow(x, 2) + n * x + o, xLabel: 'tiempo', yLabel: 'posición' },
            { name: 'masa-longitud: lineal', formula: (x, m, k) => m * x + k, xLabel: 'masa', yLabel: 'longitud' },
            { name: 'altura-tiempo: raíz cuadrada', formula: (x, m) => m * Math.sqrt(x), xLabel: 'tiempo', yLabel: 'altura' },
            { name: 'aceleración-fuerza: proporcional', formula: (x, m) => m * x, xLabel: 'aceleración', yLabel: 'fuerza' },
            { name: 'tiempo-velocidad: constante', formula: (x, k) => k, xLabel: 'tiempo', yLabel: 'velocidad' },
            { name: 'tiempo-velocidad: lineal', formula: (x, m, n) => m * x + n, xLabel: 'tiempo', yLabel: 'velocidad' },
            { name: 'tiempo-aceleración: constante', formula: (x, k) => k, xLabel: 'tiempo', yLabel: 'aceleración' },
            { name: 'tiempo-aceleración: lineal', formula: (x, m, n) => m * x + n, xLabel: 'tiempo', yLabel: 'aceleración' },
            { name: 'presión-volumen: inversa', formula: (x, k) => k / x, xLabel: 'volumen', yLabel: 'presión' }
        ];

        // Sorteo de una fórmula
        function getRandomFormula() {
            return formulas[Math.floor(Math.random() * formulas.length)];
        }

        // Generar datos aleatorios
        function generateData() {
            const formulaData = getRandomFormula();
            const { formula, xLabel, yLabel } = formulaData;
            const tableBody = document.getElementById('table-body');
            const independentVar = document.getElementById('independent-variable');
            const dependentVar = document.getElementById('dependent-variable');

            // Actualizar encabezados de la tabla
            independentVar.textContent = xLabel;
            dependentVar.textContent = yLabel;

            // Generar valores independientes
            const xValues = [0, 1, 2, 3, 4, 5]; // Valores equiespaciados
            const m = (Math.random() * 2).toFixed(1);
            const n = (Math.random() * 2).toFixed(1);
            const o = (Math.random() * 2).toFixed(1);
            const k = (Math.random() * 2).toFixed(1);

            tableBody.innerHTML = ''; // Limpiar tabla

            // Nombres de las filas
            const rows = ['A', 'B', 'C', 'D', 'E', 'F'];

            // Generar valores dependientes
            xValues.forEach((x, i) => {
                const y = formula(x, parseFloat(m), parseFloat(n), parseFloat(o), parseFloat(k)).toFixed(1);
                const rowClass = i === 0 ? 'row-A' : i === 1 ? 'row-B' : '';

                tableBody.innerHTML += `
                    <tr class="${rowClass}">
                        <td>${rows[i]}</td>
                        <td>${x}</td>
                        <td>${y}</td>
                    </tr>
                `;
            });
        }

        // Llamar a la función para generar los datos
        generateData();
    </script>
</body>
</html>
